(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jkDv:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminModule",function(){return ut});var a=i("ofXK"),r=i("tyNb"),o=i("3Pt+"),n=i("nYR2");class c{static isPriceValid(t){return t.value>1e4?{price_invalid:!0}:null}}var s=i("fXoL"),d=i("aiL1"),b=i("Vaw3"),u=i("Wp6s"),l=i("kmnG"),m=i("qFsG"),p=i("bTqV");function f(t,e){1&t&&s.Ob(0,"img",10),2&t&&s.kc("src",e.ngIf,s.sc)}let h=(()=>{class t{constructor(t,e,i,a){this.formBuilder=t,this.productService=e,this.router=i,this.afs=a,this.buildForm()}ngOnInit(){}buildForm(){this.form=this.formBuilder.group({id:["",[o.n.required,c.isPriceValid]],title:["",[o.n.required]],price:[0,[o.n.required]],image:"",description:["",[o.n.required]]})}uploadFile(t){const e=t.target.files[0],i="/images/products/"+e.name,a=this.afs.ref(i);this.afs.upload(i,e).snapshotChanges().pipe(Object(n.a)(()=>{this.image$=a.getDownloadURL(),this.image$.subscribe(t=>{this.form.get("image").setValue(t)})}))}saveProduct(t){t.preventDefault(),this.form.valid&&this.productService.createProduct(this.form.value).subscribe(t=>{this.router.navigateByUrl("/admin/products")})}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(o.b),s.Nb(d.a),s.Nb(r.c),s.Nb(b.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-form-product"]],decls:30,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs"],["formControlName","id","matInput","","type","text","placeholder","id"],["formControlName","title","matInput","","type","text","placeholder","title"],["formControlName","price","matInput","","type","number","placeholder","price"],["formControlName","description","matInput","","placeholder","description"],[3,"src",4,"ngIf"],["type","file","name","","id","",3,"change"],["mat-raised-button","","type","submit"],[3,"src"]],template:function(t,e){1&t&&(s.Tb(0,"form",0),s.ac("ngSubmit",function(t){return e.saveProduct(t)}),s.Tb(1,"mat-card"),s.Tb(2,"mat-card-header"),s.Tb(3,"mat-card-title"),s.Cc(4,"Producto"),s.Sb(),s.Sb(),s.Tb(5,"mat-card-content"),s.Tb(6,"div",1),s.Tb(7,"div",2),s.Tb(8,"mat-form-field"),s.Ob(9,"input",3),s.Sb(),s.Sb(),s.Sb(),s.Tb(10,"div",1),s.Tb(11,"div",2),s.Tb(12,"mat-form-field"),s.Ob(13,"input",4),s.Sb(),s.Sb(),s.Sb(),s.Tb(14,"div",1),s.Tb(15,"div",2),s.Tb(16,"mat-form-field"),s.Ob(17,"input",5),s.Sb(),s.Sb(),s.Sb(),s.Tb(18,"div",1),s.Tb(19,"div",2),s.Tb(20,"mat-form-field"),s.Ob(21,"textarea",6),s.Sb(),s.Sb(),s.Sb(),s.Tb(22,"div",1),s.Tb(23,"div",2),s.Ac(24,f,1,1,"img",7),s.fc(25,"async"),s.Tb(26,"input",8),s.ac("change",function(t){return e.uploadFile(t)}),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(27,"mat-card-actions"),s.Tb(28,"button",9),s.Cc(29,"Crear producto"),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.kc("formGroup",e.form),s.Bb(24),s.kc("ngIf",s.gc(25,2,e.image$)))},directives:[o.o,o.j,o.f,u.a,u.d,u.h,u.c,l.b,o.a,m.a,o.i,o.e,o.l,a.l,u.b,p.b],pipes:[a.b],styles:[""]}),t})();var g=i("lJxs"),S=i("0MNC"),v=i("zkoq"),T=i("STbY"),C=i("NFeN");function w(t,e){if(1&t&&(s.Tb(0,"mat-grid-tile",4),s.Tb(1,"mat-card",5),s.Tb(2,"mat-card-header"),s.Tb(3,"mat-card-title"),s.Cc(4),s.Tb(5,"button",6),s.Tb(6,"mat-icon"),s.Cc(7,"more_vert"),s.Sb(),s.Sb(),s.Tb(8,"mat-menu",7,8),s.Tb(10,"button",9),s.Cc(11,"Expand"),s.Sb(),s.Tb(12,"button",9),s.Cc(13,"Remove"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(14,"mat-card-content",10),s.Tb(15,"div"),s.Cc(16,"Card Content Here"),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t){const t=e.$implicit,i=s.pc(9);s.kc("colspan",t.cols)("rowspan",t.rows),s.Bb(4),s.Ec(" ",t.title," "),s.Bb(1),s.kc("matMenuTriggerFor",i)}}let y=(()=>{class t{constructor(t){this.breakpointObserver=t,this.cards=this.breakpointObserver.observe(S.b.Handset).pipe(Object(g.a)(({matches:t})=>t?[{title:"Card 1",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"Card 1",cols:2,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:2},{title:"Card 4",cols:1,rows:1}]))}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(S.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-home-admin"]],decls:6,vars:3,consts:[[1,"grid-container"],[1,"mat-h1"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item",""],[1,"dashboard-card-content"]],template:function(t,e){1&t&&(s.Tb(0,"div",0),s.Tb(1,"h1",1),s.Cc(2,"Dashboard"),s.Sb(),s.Tb(3,"mat-grid-list",2),s.Ac(4,w,17,4,"mat-grid-tile",3),s.fc(5,"async"),s.Sb(),s.Sb()),2&t&&(s.Bb(4),s.kc("ngForOf",s.gc(5,1,e.cards)))},directives:[v.a,a.k,v.c,u.a,u.d,u.h,p.b,T.d,C.a,T.a,T.b,u.c],pipes:[a.b],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),t})();var k=i("M9IT"),O=i("Dh3D"),P=i("+0xr"),D=i("0EQZ"),B=i("VRyK"),x=i("LRne");const I=[{id:1,name:"Hydrogen"},{id:2,name:"Helium"},{id:3,name:"Lithium"},{id:4,name:"Beryllium"},{id:5,name:"Boron"},{id:6,name:"Carbon"},{id:7,name:"Nitrogen"},{id:8,name:"Oxygen"},{id:9,name:"Fluorine"},{id:10,name:"Neon"},{id:11,name:"Sodium"},{id:12,name:"Magnesium"},{id:13,name:"Aluminum"},{id:14,name:"Silicon"},{id:15,name:"Phosphorus"},{id:16,name:"Sulfur"},{id:17,name:"Chlorine"},{id:18,name:"Argon"},{id:19,name:"Potassium"},{id:20,name:"Calcium"}];class N extends D.b{constructor(){super(),this.data=I}connect(){if(this.paginator&&this.sort)return Object(B.a)(Object(x.a)(this.data),this.paginator.page,this.sort.sortChange).pipe(Object(g.a)(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(t){return this.paginator?t.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize):t}getSortedData(t){return this.sort&&this.sort.active&&""!==this.sort.direction?t.sort((t,e)=>{var i,a;const r="asc"===(null===(i=this.sort)||void 0===i?void 0:i.direction);switch(null===(a=this.sort)||void 0===a?void 0:a.active){case"name":return A(t.name,e.name,r);case"id":return A(+t.id,+e.id,r);default:return 0}}):t}}function A(t,e,i){return(t<e?-1:1)*(i?1:-1)}function H(t,e){1&t&&(s.Tb(0,"th",10),s.Cc(1,"Id"),s.Sb())}function R(t,e){if(1&t&&(s.Tb(0,"td",11),s.Cc(1),s.Sb()),2&t){const t=e.$implicit;s.Bb(1),s.Dc(t.id)}}function M(t,e){1&t&&(s.Tb(0,"th",10),s.Cc(1,"Name"),s.Sb())}function F(t,e){if(1&t&&(s.Tb(0,"td",11),s.Cc(1),s.Sb()),2&t){const t=e.$implicit;s.Bb(1),s.Dc(t.name)}}function L(t,e){1&t&&s.Ob(0,"tr",12)}function $(t,e){1&t&&s.Ob(0,"tr",13)}const j=function(){return[5,10,20]};let _=(()=>{class t{constructor(){this.displayedColumns=["id","name"],this.dataSource=new N}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.table.dataSource=this.dataSource}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Hb({type:t,selectors:[["app-inventario"]],viewQuery:function(t,e){if(1&t&&(s.Fc(k.a,!0),s.Fc(O.a,!0),s.Fc(P.j,!0)),2&t){let t;s.oc(t=s.bc())&&(e.paginator=t.first),s.oc(t=s.bc())&&(e.sort=t.first),s.oc(t=s.bc())&&(e.table=t.first)}},decls:12,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Tb(0,"div",0),s.Tb(1,"table",1),s.Rb(2,2),s.Ac(3,H,2,0,"th",3),s.Ac(4,R,2,1,"td",4),s.Qb(),s.Rb(5,5),s.Ac(6,M,2,0,"th",3),s.Ac(7,F,2,1,"td",4),s.Qb(),s.Ac(8,L,1,0,"tr",6),s.Ac(9,$,1,0,"tr",7),s.Sb(),s.Ob(10,"mat-paginator",8,9),s.Sb()),2&t&&(s.Bb(8),s.kc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.kc("matRowDefColumns",e.displayedColumns),s.Bb(1),s.kc("length",null==e.dataSource||null==e.dataSource.data?null:e.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",s.lc(6,j)))},directives:[P.j,O.a,P.c,P.e,P.b,P.g,P.i,k.a,P.d,O.b,P.a,P.f,P.h],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}"]}),t})();var q=i("UXun"),z=i("7dP1"),E=i("XhcP"),V=i("/t3+"),Q=i("MutI");function G(t,e){if(1&t){const t=s.Ub();s.Tb(0,"button",6),s.ac("click",function(){return s.rc(t),s.ec(),s.pc(2).toggle()}),s.Tb(1,"mat-icon",7),s.Cc(2,"menu"),s.Sb(),s.Sb()}}const U=function(){return["/admin/products/create"]},K=function(){return["/admin/home"]},X=function(){return["/admin/inventario"]},J=function(){return["/admin/products"]};function Y(t,e){1&t&&(s.Tb(0,"th",10),s.Cc(1," ID"),s.Sb())}function W(t,e){if(1&t&&(s.Tb(0,"td",11),s.Cc(1),s.Sb()),2&t){const t=e.$implicit;s.Bb(1),s.Ec(" ",t.id," ")}}function Z(t,e){1&t&&(s.Tb(0,"th",10),s.Cc(1," TITLE"),s.Sb())}function tt(t,e){if(1&t&&(s.Tb(0,"td",11),s.Cc(1),s.Sb()),2&t){const t=e.$implicit;s.Bb(1),s.Ec(" ",t.title," ")}}function et(t,e){1&t&&(s.Tb(0,"th",10),s.Cc(1," PRICE"),s.Sb())}function it(t,e){if(1&t&&(s.Tb(0,"td",11),s.Cc(1),s.Sb()),2&t){const t=e.$implicit;s.Bb(1),s.Ec(" ",t.price," ")}}function at(t,e){1&t&&(s.Tb(0,"th",10),s.Cc(1," ACTIONS"),s.Sb())}const rt=function(t){return["edit",t]};function ot(t,e){if(1&t){const t=s.Ub();s.Tb(0,"td",11),s.Tb(1,"a",12),s.Cc(2,"editar"),s.Sb(),s.Tb(3,"button",13),s.ac("click",function(){s.rc(t);const i=e.$implicit;return s.ec().deleteProduct(i.id)}),s.Cc(4,"eliminar"),s.Sb(),s.Sb()}if(2&t){const t=e.$implicit;s.Bb(1),s.kc("routerLink",s.mc(1,rt,t.id))}}function nt(t,e){1&t&&s.Ob(0,"tr",14)}function ct(t,e){1&t&&s.Ob(0,"tr",15)}const st=[{path:"",component:(()=>{class t{constructor(t,e,i){this.breakpointObserver=t,this.auth=e,this.router=i,this.isHandset$=this.breakpointObserver.observe(S.b.Handset).pipe(Object(g.a)(t=>t.matches),Object(q.a)())}logout(){this.auth.logout().then(()=>{this.router.navigate(["./home"])})}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(S.a),s.Nb(z.a),s.Nb(r.c))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-nav"]],decls:24,vars:20,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLinkActive","router-link-active",3,"routerLink"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,e){1&t&&(s.Tb(0,"mat-sidenav-container",0),s.Tb(1,"mat-sidenav",1,2),s.fc(3,"async"),s.fc(4,"async"),s.fc(5,"async"),s.Tb(6,"mat-toolbar"),s.Cc(7,"Menu"),s.Sb(),s.Tb(8,"mat-nav-list"),s.Tb(9,"a",3),s.Cc(10,"Crear Producto"),s.Sb(),s.Tb(11,"a",3),s.Cc(12,"Home"),s.Sb(),s.Tb(13,"a",3),s.Cc(14,"Inventario"),s.Sb(),s.Tb(15,"a",3),s.Cc(16,"Productos"),s.Sb(),s.Sb(),s.Sb(),s.Tb(17,"mat-sidenav-content"),s.Tb(18,"mat-toolbar",4),s.Ac(19,G,3,0,"button",5),s.fc(20,"async"),s.Tb(21,"span"),s.Cc(22,"platzi-store"),s.Sb(),s.Sb(),s.Ob(23,"router-outlet"),s.Sb(),s.Sb()),2&t&&(s.Bb(1),s.kc("mode",s.gc(4,10,e.isHandset$)?"over":"side")("opened",!1===s.gc(5,12,e.isHandset$)),s.Cb("role",s.gc(3,8,e.isHandset$)?"dialog":"navigation"),s.Bb(8),s.kc("routerLink",s.lc(16,U)),s.Bb(2),s.kc("routerLink",s.lc(17,K)),s.Bb(2),s.kc("routerLink",s.lc(18,X)),s.Bb(2),s.kc("routerLink",s.lc(19,J)),s.Bb(4),s.kc("ngIf",s.gc(20,14,e.isHandset$)))},directives:[E.b,E.a,V.a,Q.c,Q.a,r.f,r.e,E.c,a.l,r.h,p.b,C.a],pipes:[a.b],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),t})(),children:[{path:"inventario",component:_},{path:"home",component:y},{path:"products",component:(()=>{class t{constructor(t){this.productService=t,this.loaded=!1,this.products=[],this.displayedColumns=["id","title","price","actions"]}ngOnInit(){this.fetchProducts()}fetchProducts(){this.productService.getAllProducts().subscribe(t=>{this.products=t,this.loaded=!0})}deleteProduct(t){this.productService.delete(t).subscribe(e=>{this.products.filter(e=>e.id===t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(d.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-products-list"]],decls:17,vars:3,consts:[["mat-raised-button","","routerLink","/admin/products/create"],["mat-table","",1,"mat-elevation-z8","products-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","price"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Tb(0,"button",0),s.Cc(1,"Crear producto"),s.Sb(),s.Tb(2,"table",1),s.Rb(3,2),s.Ac(4,Y,2,0,"th",3),s.Ac(5,W,2,1,"td",4),s.Qb(),s.Rb(6,5),s.Ac(7,Z,2,0,"th",3),s.Ac(8,tt,2,1,"td",4),s.Qb(),s.Rb(9,6),s.Ac(10,et,2,0,"th",3),s.Ac(11,it,2,1,"td",4),s.Qb(),s.Rb(12,7),s.Ac(13,at,2,0,"th",3),s.Ac(14,ot,5,3,"td",4),s.Qb(),s.Ac(15,nt,1,0,"tr",8),s.Ac(16,ct,1,0,"tr",9),s.Sb()),2&t&&(s.Bb(2),s.kc("dataSource",e.products),s.Bb(13),s.kc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.kc("matRowDefColumns",e.displayedColumns))},directives:[p.b,r.d,P.j,P.c,P.e,P.b,P.g,P.i,P.d,P.a,p.a,r.f,P.f,P.h],styles:[".products-table[_ngcontent-%COMP%]{width:96%;margin:2%}"]}),t})()},{path:"products/create",component:h},{path:"products/edit/:id",component:(()=>{class t{constructor(t,e,i,a){this.formBuilder=t,this.productService=e,this.router=i,this.activedRoute=a,this.buildForm()}ngOnInit(){this.activedRoute.params.subscribe(t=>{this.id=t.id,this.productService.getProduct(this.id).subscribe(t=>{this.form.patchValue({id:t.id,title:t.title,price:t.price,description:t.description}),console.log(t)})})}buildForm(){this.form=this.formBuilder.group({id:["",[o.n.required,c.isPriceValid]],title:["",[o.n.required]],price:[0,[o.n.required]],image:"",description:["",[o.n.required]]})}saveProduct(t){t.preventDefault(),this.form.valid&&this.productService.updateProduct(this.id,this.form.value).subscribe(t=>{this.router.navigateByUrl("/admin/products")})}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(o.b),s.Nb(d.a),s.Nb(r.c),s.Nb(r.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-update-product"]],decls:25,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs"],["formControlName","id","matInput","","type","text","placeholder","id"],["formControlName","title","matInput","","type","text","placeholder","title"],["formControlName","price","matInput","","type","number","placeholder","price"],["formControlName","description","matInput","","placeholder","description"],["mat-raised-button","","type","submit"]],template:function(t,e){1&t&&(s.Tb(0,"form",0),s.ac("ngSubmit",function(t){return e.saveProduct(t)}),s.Tb(1,"mat-card"),s.Tb(2,"mat-card-header"),s.Tb(3,"mat-card-title"),s.Cc(4,"Producto"),s.Sb(),s.Sb(),s.Tb(5,"mat-card-content"),s.Tb(6,"div",1),s.Tb(7,"div",2),s.Tb(8,"mat-form-field"),s.Ob(9,"input",3),s.Sb(),s.Sb(),s.Sb(),s.Tb(10,"div",1),s.Tb(11,"div",2),s.Tb(12,"mat-form-field"),s.Ob(13,"input",4),s.Sb(),s.Sb(),s.Sb(),s.Tb(14,"div",1),s.Tb(15,"div",2),s.Tb(16,"mat-form-field"),s.Ob(17,"input",5),s.Sb(),s.Sb(),s.Sb(),s.Tb(18,"div",1),s.Tb(19,"div",2),s.Tb(20,"mat-form-field"),s.Ob(21,"textarea",6),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(22,"mat-card-actions"),s.Tb(23,"button",7),s.Cc(24,"Crear producto"),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&s.kc("formGroup",e.form)},directives:[o.o,o.j,o.f,u.a,u.d,u.h,u.c,l.b,o.a,m.a,o.i,o.e,o.l,u.b,p.b],styles:[""]}),t})()},{path:"**",redirectTo:"inventario"}]}];let dt=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[r.g.forChild(st)],r.g]}),t})();var bt=i("hctd");let ut=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[a.c,dt,o.m,bt.a]]}),t})()}}]);